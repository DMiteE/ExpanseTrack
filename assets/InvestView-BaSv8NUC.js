import{N as w,r,o as C,q as d,f as c,j as e,F as h,t as k,x as _,k as l,u as $,y as x,z as M,O as S,A as V}from"./index-D8U3b_RY.js";import{f as I,h as T,u as O,s as P,d as j,a as B}from"./operations-CVTXcPt0.js";import{_ as D}from"./Header-CVIXVuwj.js";import{f as N}from"./XMarkIcon-BMcRMAdB.js";import"./logo-Ciy-p8Jt.js";const U={class:"items-end"},q={class:"bg-white"},A={class:"p-10 sm:p-10 lg:p-10"},E={role:"list",class:"divide-y divide-gray-100"},F={class:"flex min-w-0 gap-x-4"},z={class:"min-w-0 flex-auto"},L={class:"text-sm font-semibold leading-6 text-gray-900"},R={class:"mt-1 truncate text-xs leading-5 text-gray-500"},X={class:"shrink-0 sm:flex sm:flex-col sm:items-end"},H={class:"text-sm leading-6 text-gray-900"},G={class:"mt-1 text-sm leading-5 text-gray-500"},v={__name:"Portfolio",props:{cryptoCount:{type:Number,required:!0}},setup(u){const g=w(),s=r([]);C(async()=>{i()});const i=async()=>{s.value=await I(g.userId),s.value.forEach(t=>{T(t.id).then(o=>{t.price=o,t.userPrice=o*t.count}).catch(o=>{console.error(o)})})};return(t,o)=>(d(),c("div",U,[e("div",null,[e("div",q,[e("div",A,[e("ul",E,[(d(!0),c(h,null,k(s.value,n=>(d(),c("li",{key:n.id,class:"flex justify-between gap-x-6 py-5"},[e("div",F,[e("div",z,[e("p",L,_(n.id),1),e("p",R,_(n.price)+" USD",1)])]),e("div",X,[e("p",H,_(n.userPrice)+" USD",1),e("p",G,_(n.count)+"x ",1)])]))),128))])])])])]))}},J={key:0,class:"fixed z-10 inset-0 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},K={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},Q=e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true"},null,-1),W=e("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true"},"​",-1),Y={class:"inline-block p-5 align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},Z={class:"flex justify-between items-center mb-10"},ee=e("h1",{class:"font-bold text-base"},"Добавление новой монеты",-1),te={class:"grid grid-cols-1 gap-x-8 gap-y-6 sm:grid-cols-2"},se=e("label",{for:"last-name",class:"block text-sm font-semibold leading-6 text-gray-900"},"Колличество",-1),ne={class:"mt-2.5"},oe={class:"flex items-end w-full"},ae=e("option",{selected:"",disabled:""},"Выберите монету",-1),ie=["value"],le={class:"flex justify-center w-full"},re={__name:"AddCryptoInvestModal",props:{ViewCryptoModal:{type:Boolean,default:!1,required:!0}},emits:["isOpen"],setup(u,{emit:g}){O();const s=w();r("");const i=r(0);r(0);const t=r("choose"),o=[{id:"bitcoin",name:"Bitcoin"},{id:"ethereum",name:"Ethereum"},{id:"binancecoin",name:"Binance Coin"},{id:"cardano",name:"Cardano"},{id:"tether",name:"Tether"},{id:"solana",name:"Solana"},{id:"polkadot",name:"Polkadot"},{id:"XRP",name:"XRP"},{id:"dogecoin",name:"Dogecoin"},{id:"avalanche-2",name:"Avalanche"},{id:"terra-luna",name:"Terra"},{id:"shiba-inu",name:"Shiba Inu"},{id:"polygon",name:"Polygon"},{id:"chainlink",name:"Chainlink"},{id:"litecoin",name:"Litecoin"},{id:"uniswap",name:"Uniswap"},{id:"cosmos",name:"Cosmos"},{id:"vechain",name:"VeChain"},{id:"internet-computer",name:"Internet Computer"},{id:"algorand",name:"Algorand"},{id:"toncoin",name:"Ton"}],n=async()=>{const y={id:t.value,name:t.value,count:i.value};await P(j(B(),`users/${s.userId}/crypto`,t.value),y),f()},m=g,f=()=>{m("isOpen",!1)};return(y,p)=>u.ViewCryptoModal?(d(),c("div",J,[e("div",K,[Q,W,e("div",Y,[e("div",Z,[ee,l($(N),{onClick:f,class:"w-8"})]),e("div",te,[e("div",null,[se,e("div",ne,[x(e("input",{type:"number",name:"last-name",id:"last-name",autocomplete:"family-name","onUpdate:modelValue":p[0]||(p[0]=a=>i.value=a),class:"block w-full rounded-md border-0 px-3.5 py-2 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,512),[[M,i.value]])])]),e("div",oe,[x(e("select",{id:"transaction-type","onUpdate:modelValue":p[1]||(p[1]=a=>t.value=a),class:"border border-gray-300 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 w-full p-2.5 dark:placeholder-gray-900 dark:text-gray-900 dark:focus:ring-blue-500 dark:focus:border-blue-500"},[ae,(d(),c(h,null,k(o,a=>e("option",{key:a.id,value:a.id},_(a.name),9,ie)),64))],512),[[S,t.value]])])]),e("div",le,[e("button",{type:"button",onClick:p[2]||(p[2]=a=>n()),class:"text-white bg-gradient-to-r mt-10 from-cyan-500 to-blue-500 hover:bg-gradient-to-bl focus:ring-4 focus:outline-none focus:ring-cyan-300 dark:focus:ring-cyan-800 font-medium rounded-lg text-sm px-10 py-2.5 text-center me-2 mb-2"}," Добавить ")])])])])):V("",!0)}},de={class:"flex items-baseline justify-between border-b border-gray-200 pt-14 pr-10 pl-10 pb-5"},ce={class:"text-4xl font-bold tracking-tight text-gray-900"},ue={class:"flex items-center"},b={__name:"InvestHeader",props:{headerTitle:{type:String,required:!0}},emits:["isOpen"],setup(u,{emit:g}){const s=r(!1),i=r(!1),t=()=>{s.value=!1},o=n=>{n=="Криптовалюта"?s.value=!0:i.value=!0};return(n,m)=>(d(),c(h,null,[e("div",de,[e("h1",ce,_(u.headerTitle),1),e("div",ue,[e("button",{type:"button",class:"-m-2 ml-4 p-2 text-4xl text-gray-400 hover:text-gray-500 sm:ml-6",onClick:m[0]||(m[0]=f=>o(u.headerTitle))}," + ")])]),l(re,{ViewCryptoModal:s.value,onIsOpen:m[1]||(m[1]=f=>t())},null,8,["ViewCryptoModal"])],64))}},he={__name:"InvestView",setup(u){return(g,s)=>(d(),c(h,null,[l(D),l(b,{headerTitle:"Инвестиции"}),l(v),l(b,{headerTitle:"Криптовалюта"}),l(v)],64))}};export{he as default};
