import{r as h,o as B,w as j,d as T,p as U,c as k,a as q,i as Q,n as R,q as M,f as O,j as m,v as ce,N as de,M as N,m as _,k as D,u as I,F as z,t as Y,Q as $,x as K,A as pe,a5 as fe,l as ve,a6 as me,C as ge}from"./index-Cml9OHQx.js";import{_ as be}from"./logo-Ciy-p8Jt.js";import{o as v,i as he,I as E,u as H,g as ae,a as P,A as C,l as le,e as A,d as b,b as ye,h as xe,j as Ie,v as we,N as J,_ as ne,O as ke,r as Se,f as _e}from"./XMarkIcon-CqpIn2uY.js";function X(e,r){if(e)return e;let l=r??"button";if(typeof l=="string"&&l.toLowerCase()==="button")return"button"}function se(e,r){let l=h(X(e.value.type,e.value.as));return B(()=>{l.value=X(e.value.type,e.value.as)}),j(()=>{var u;l.value||v(r)&&v(r)instanceof HTMLButtonElement&&!((u=v(r))!=null&&u.hasAttribute("type"))&&(l.value="button")}),l}function Z(e){return[e.screenX,e.screenY]}function De(){let e=h([-1,-1]);return{wasMoved(r){let l=Z(r);return e.value[0]===l[0]&&e.value[1]===l[1]?!1:(e.value=l,!0)},update(r){e.value=Z(r)}}}function Me({container:e,accept:r,walk:l,enabled:u}){j(()=>{let s=e.value;if(!s||u!==void 0&&!u.value)return;let n=he(e);if(!n)return;let t=Object.assign(c=>r(c),{acceptNode:r}),o=n.createTreeWalker(s,NodeFilter.SHOW_ELEMENT,t,!1);for(;o.nextNode();)l(o.currentNode)})}function Pe(e){throw new Error("Unexpected object: "+e)}var S=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(S||{});function Te(e,r){let l=r.resolveItems();if(l.length<=0)return null;let u=r.resolveActiveIndex(),s=u??-1;switch(e.focus){case 0:{for(let n=0;n<l.length;++n)if(!r.resolveDisabled(l[n],n,l))return n;return u}case 1:{s===-1&&(s=l.length);for(let n=s-1;n>=0;--n)if(!r.resolveDisabled(l[n],n,l))return n;return u}case 2:{for(let n=s+1;n<l.length;++n)if(!r.resolveDisabled(l[n],n,l))return n;return u}case 3:{for(let n=l.length-1;n>=0;--n)if(!r.resolveDisabled(l[n],n,l))return n;return u}case 4:{for(let n=0;n<l.length;++n)if(r.resolveId(l[n],n,l)===e.id)return n;return u}case 5:return null;default:Pe(e)}}var Ce=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Ce||{});let re=Symbol("DisclosureContext");function W(e){let r=Q(re,null);if(r===null){let l=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(l,W),l}return r}let ue=Symbol("DisclosurePanelContext");function Re(){return Q(ue,null)}let $e=T({name:"Disclosure",props:{as:{type:[Object,String],default:"template"},defaultOpen:{type:[Boolean],default:!1}},setup(e,{slots:r,attrs:l}){let u=h(e.defaultOpen?0:1),s=h(null),n=h(null),t={buttonId:h(`headlessui-disclosure-button-${E()}`),panelId:h(`headlessui-disclosure-panel-${E()}`),disclosureState:u,panel:s,button:n,toggleDisclosure(){u.value=H(u.value,{0:1,1:0})},closeDisclosure(){u.value!==1&&(u.value=1)},close(o){t.closeDisclosure();let c=o?o instanceof HTMLElement?o:o.value instanceof HTMLElement?v(o):v(t.button):v(t.button);c==null||c.focus()}};return U(re,t),ae(k(()=>H(u.value,{0:P.Open,1:P.Closed}))),()=>{let{defaultOpen:o,...c}=e,i={open:u.value===0,close:t.close};return C({theirProps:c,ourProps:{},slot:i,slots:r,attrs:l,name:"Disclosure"})}}}),G=T({name:"DisclosureButton",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1},id:{type:String,default:null}},setup(e,{attrs:r,slots:l,expose:u}){let s=W("DisclosureButton"),n=Re(),t=k(()=>n===null?!1:n.value===s.panelId.value);B(()=>{t.value||e.id!==null&&(s.buttonId.value=e.id)}),q(()=>{t.value||(s.buttonId.value=null)});let o=h(null);u({el:o,$el:o}),t.value||j(()=>{s.button.value=o.value});let c=se(k(()=>({as:e.as,type:r.type})),o);function i(){var a;e.disabled||(t.value?(s.toggleDisclosure(),(a=v(s.button))==null||a.focus()):s.toggleDisclosure())}function x(a){var d;if(!e.disabled)if(t.value)switch(a.key){case b.Space:case b.Enter:a.preventDefault(),a.stopPropagation(),s.toggleDisclosure(),(d=v(s.button))==null||d.focus();break}else switch(a.key){case b.Space:case b.Enter:a.preventDefault(),a.stopPropagation(),s.toggleDisclosure();break}}function f(a){switch(a.key){case b.Space:a.preventDefault();break}}return()=>{var a;let d={open:s.disclosureState.value===0},{id:p,...g}=e,w=t.value?{ref:o,type:c.value,onClick:i,onKeydown:x}:{id:(a=s.buttonId.value)!=null?a:p,ref:o,type:c.value,"aria-expanded":s.disclosureState.value===0,"aria-controls":s.disclosureState.value===0||v(s.panel)?s.panelId.value:void 0,disabled:e.disabled?!0:void 0,onClick:i,onKeydown:x,onKeyup:f};return C({ourProps:w,theirProps:g,slot:d,attrs:r,slots:l,name:"DisclosureButton"})}}}),Oe=T({name:"DisclosurePanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(e,{attrs:r,slots:l,expose:u}){let s=W("DisclosurePanel");B(()=>{e.id!==null&&(s.panelId.value=e.id)}),q(()=>{s.panelId.value=null}),u({el:s.panel,$el:s.panel}),U(ue,s.panelId);let n=le(),t=k(()=>n!==null?(n.value&P.Open)===P.Open:s.disclosureState.value===0);return()=>{var o;let c={open:s.disclosureState.value===0,close:s.close},{id:i,...x}=e,f={id:(o=s.panelId.value)!=null?o:i,ref:s.panel};return C({ourProps:f,theirProps:x,slot:c,attrs:r,slots:l,features:A.RenderStrategy|A.Static,visible:t.value,name:"DisclosurePanel"})}}}),ee=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function te(e){var r,l;let u=(r=e.innerText)!=null?r:"",s=e.cloneNode(!0);if(!(s instanceof HTMLElement))return u;let n=!1;for(let o of s.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))o.remove(),n=!0;let t=n?(l=s.innerText)!=null?l:"":u;return ee.test(t)&&(t=t.replace(ee,"")),t}function Ee(e){let r=e.getAttribute("aria-label");if(typeof r=="string")return r.trim();let l=e.getAttribute("aria-labelledby");if(l){let u=l.split(" ").map(s=>{let n=document.getElementById(s);if(n){let t=n.getAttribute("aria-label");return typeof t=="string"?t.trim():te(n).trim()}return null}).filter(Boolean);if(u.length>0)return u.join(", ")}return te(e).trim()}function Fe(e){let r=h(""),l=h("");return()=>{let u=v(e);if(!u)return"";let s=u.innerText;if(r.value===s)return l.value;let n=Ee(u).trim().toLowerCase();return r.value=s,l.value=n,n}}var Ne=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Ne||{}),Ae=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(Ae||{});function Be(e){requestAnimationFrame(()=>requestAnimationFrame(e))}let oe=Symbol("MenuContext");function L(e){let r=Q(oe,null);if(r===null){let l=new Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(l,L),l}return r}let je=T({name:"Menu",props:{as:{type:[Object,String],default:"template"}},setup(e,{slots:r,attrs:l}){let u=h(1),s=h(null),n=h(null),t=h([]),o=h(""),c=h(null),i=h(1);function x(a=d=>d){let d=c.value!==null?t.value[c.value]:null,p=ke(a(t.value.slice()),w=>v(w.dataRef.domRef)),g=d?p.indexOf(d):null;return g===-1&&(g=null),{items:p,activeItemIndex:g}}let f={menuState:u,buttonRef:s,itemsRef:n,items:t,searchQuery:o,activeItemIndex:c,activationTrigger:i,closeMenu:()=>{u.value=1,c.value=null},openMenu:()=>u.value=0,goToItem(a,d,p){let g=x(),w=Te(a===S.Specific?{focus:S.Specific,id:d}:{focus:a},{resolveItems:()=>g.items,resolveActiveIndex:()=>g.activeItemIndex,resolveId:y=>y.id,resolveDisabled:y=>y.dataRef.disabled});o.value="",c.value=w,i.value=p??1,t.value=g.items},search(a){let d=o.value!==""?0:1;o.value+=a.toLowerCase();let p=(c.value!==null?t.value.slice(c.value+d).concat(t.value.slice(0,c.value+d)):t.value).find(w=>w.dataRef.textValue.startsWith(o.value)&&!w.dataRef.disabled),g=p?t.value.indexOf(p):-1;g===-1||g===c.value||(c.value=g,i.value=1)},clearSearch(){o.value=""},registerItem(a,d){let p=x(g=>[...g,{id:a,dataRef:d}]);t.value=p.items,c.value=p.activeItemIndex,i.value=1},unregisterItem(a){let d=x(p=>{let g=p.findIndex(w=>w.id===a);return g!==-1&&p.splice(g,1),p});t.value=d.items,c.value=d.activeItemIndex,i.value=1}};return ye([s,n],(a,d)=>{var p;f.closeMenu(),xe(d,Ie.Loose)||(a.preventDefault(),(p=v(s))==null||p.focus())},k(()=>u.value===0)),U(oe,f),ae(k(()=>H(u.value,{0:P.Open,1:P.Closed}))),()=>{let a={open:u.value===0,close:f.closeMenu};return C({ourProps:{},theirProps:e,slot:a,slots:r,attrs:l,name:"Menu"})}}}),Le=T({name:"MenuButton",props:{disabled:{type:Boolean,default:!1},as:{type:[Object,String],default:"button"},id:{type:String,default:null}},setup(e,{attrs:r,slots:l,expose:u}){var s;let n=(s=e.id)!=null?s:`headlessui-menu-button-${E()}`,t=L("MenuButton");u({el:t.buttonRef,$el:t.buttonRef});function o(f){switch(f.key){case b.Space:case b.Enter:case b.ArrowDown:f.preventDefault(),f.stopPropagation(),t.openMenu(),R(()=>{var a;(a=v(t.itemsRef))==null||a.focus({preventScroll:!0}),t.goToItem(S.First)});break;case b.ArrowUp:f.preventDefault(),f.stopPropagation(),t.openMenu(),R(()=>{var a;(a=v(t.itemsRef))==null||a.focus({preventScroll:!0}),t.goToItem(S.Last)});break}}function c(f){switch(f.key){case b.Space:f.preventDefault();break}}function i(f){e.disabled||(t.menuState.value===0?(t.closeMenu(),R(()=>{var a;return(a=v(t.buttonRef))==null?void 0:a.focus({preventScroll:!0})})):(f.preventDefault(),t.openMenu(),Be(()=>{var a;return(a=v(t.itemsRef))==null?void 0:a.focus({preventScroll:!0})})))}let x=se(k(()=>({as:e.as,type:r.type})),t.buttonRef);return()=>{var f;let a={open:t.menuState.value===0},{...d}=e,p={ref:t.buttonRef,id:n,type:x.value,"aria-haspopup":"menu","aria-controls":(f=v(t.itemsRef))==null?void 0:f.id,"aria-expanded":t.menuState.value===0,onKeydown:o,onKeyup:c,onClick:i};return C({ourProps:p,theirProps:d,slot:a,attrs:r,slots:l,name:"MenuButton"})}}}),Ke=T({name:"MenuItems",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(e,{attrs:r,slots:l,expose:u}){var s;let n=(s=e.id)!=null?s:`headlessui-menu-items-${E()}`,t=L("MenuItems"),o=h(null);u({el:t.itemsRef,$el:t.itemsRef}),Me({container:k(()=>v(t.itemsRef)),enabled:k(()=>t.menuState.value===0),accept(a){return a.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:a.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(a){a.setAttribute("role","none")}});function c(a){var d;switch(o.value&&clearTimeout(o.value),a.key){case b.Space:if(t.searchQuery.value!=="")return a.preventDefault(),a.stopPropagation(),t.search(a.key);case b.Enter:if(a.preventDefault(),a.stopPropagation(),t.activeItemIndex.value!==null){let p=t.items.value[t.activeItemIndex.value];(d=v(p.dataRef.domRef))==null||d.click()}t.closeMenu(),ne(v(t.buttonRef));break;case b.ArrowDown:return a.preventDefault(),a.stopPropagation(),t.goToItem(S.Next);case b.ArrowUp:return a.preventDefault(),a.stopPropagation(),t.goToItem(S.Previous);case b.Home:case b.PageUp:return a.preventDefault(),a.stopPropagation(),t.goToItem(S.First);case b.End:case b.PageDown:return a.preventDefault(),a.stopPropagation(),t.goToItem(S.Last);case b.Escape:a.preventDefault(),a.stopPropagation(),t.closeMenu(),R(()=>{var p;return(p=v(t.buttonRef))==null?void 0:p.focus({preventScroll:!0})});break;case b.Tab:a.preventDefault(),a.stopPropagation(),t.closeMenu(),R(()=>we(v(t.buttonRef),a.shiftKey?J.Previous:J.Next));break;default:a.key.length===1&&(t.search(a.key),o.value=setTimeout(()=>t.clearSearch(),350));break}}function i(a){switch(a.key){case b.Space:a.preventDefault();break}}let x=le(),f=k(()=>x!==null?(x.value&P.Open)===P.Open:t.menuState.value===0);return()=>{var a,d;let p={open:t.menuState.value===0},{...g}=e,w={"aria-activedescendant":t.activeItemIndex.value===null||(a=t.items.value[t.activeItemIndex.value])==null?void 0:a.id,"aria-labelledby":(d=v(t.buttonRef))==null?void 0:d.id,id:n,onKeydown:c,onKeyup:i,role:"menu",tabIndex:0,ref:t.itemsRef};return C({ourProps:w,theirProps:g,slot:p,attrs:r,slots:l,features:A.RenderStrategy|A.Static,visible:f.value,name:"MenuItems"})}}}),V=T({name:"MenuItem",inheritAttrs:!1,props:{as:{type:[Object,String],default:"template"},disabled:{type:Boolean,default:!1},id:{type:String,default:null}},setup(e,{slots:r,attrs:l,expose:u}){var s;let n=(s=e.id)!=null?s:`headlessui-menu-item-${E()}`,t=L("MenuItem"),o=h(null);u({el:o,$el:o});let c=k(()=>t.activeItemIndex.value!==null?t.items.value[t.activeItemIndex.value].id===n:!1),i=Fe(o),x=k(()=>({disabled:e.disabled,get textValue(){return i()},domRef:o}));B(()=>t.registerItem(n,x)),q(()=>t.unregisterItem(n)),j(()=>{t.menuState.value===0&&c.value&&t.activationTrigger.value!==0&&R(()=>{var y,F;return(F=(y=v(o))==null?void 0:y.scrollIntoView)==null?void 0:F.call(y,{block:"nearest"})})});function f(y){if(e.disabled)return y.preventDefault();t.closeMenu(),ne(v(t.buttonRef))}function a(){if(e.disabled)return t.goToItem(S.Nothing);t.goToItem(S.Specific,n)}let d=De();function p(y){d.update(y)}function g(y){d.wasMoved(y)&&(e.disabled||c.value||t.goToItem(S.Specific,n,0))}function w(y){d.wasMoved(y)&&(e.disabled||c.value&&t.goToItem(S.Nothing))}return()=>{let{disabled:y,...F}=e,ie={active:c.value,disabled:y,close:t.closeMenu};return C({ourProps:{id:n,ref:o,role:"menuitem",tabIndex:y===!0?void 0:-1,"aria-disabled":y===!0?!0:void 0,onClick:f,onFocus:a,onPointerenter:p,onMouseenter:p,onPointermove:g,onMousemove:g,onPointerleave:w,onMouseleave:w},theirProps:{...l,...F},slot:ie,attrs:l,slots:r,name:"MenuItem"})}}});function Ve(e,r){return M(),O("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[m("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"})])}const He={class:"mx-auto max-w-7xl px-2 sm:px-6 lg:px-8"},Ue={class:"relative flex h-16 items-center justify-between"},qe={class:"absolute inset-y-0 left-0 flex items-center sm:hidden"},Qe=m("span",{class:"absolute -inset-0.5"},null,-1),We=m("span",{class:"sr-only"},"Open main menu",-1),ze={class:"flex flex-1 items-center justify-center sm:items-stretch sm:justify-start"},Ye=m("div",{class:"flex flex-shrink-0 items-center"},[m("img",{class:"h-8 w-auto",src:be,alt:"Your Company"})],-1),Je={class:"hidden sm:ml-6 sm:block"},Xe={class:"flex space-x-4"},Ze=["onClick","href","aria-current"],Ge={class:"absolute inset-y-0 right-0 flex items-center pr-2 sm:static sm:inset-auto sm:ml-6 sm:pr-0"},et={type:"button",class:"relative rounded-full bg-white p-1 text-gray-400 hover:text-black focus:outline-none focus:ring-2 focus:ring-white focus:ring-offset-2 focus:ring-offset-gray-800"},tt=m("span",{class:"absolute -inset-1.5"},null,-1),at=m("span",{class:"sr-only"},"View notifications",-1),lt=m("span",{class:"absolute -inset-1.5"},null,-1),nt=m("span",{class:"sr-only"},"Open user menu",-1),st=["src"],rt={class:"ml-3"},ut={class:"space-y-1 px-2 pb-3 pt-2"},dt={__name:"Header",setup(e){const r=ce(),l=de(),u=h([{label:"Финансы",icon:"pi pi-user",path:"/finance",show:k(()=>!l.userId)},{label:"Инвестиции",icon:"pi pi-plus",path:"/invests",show:k(()=>!!l.userId)},{label:"Советы",icon:"pi pi-list",path:"/advice",show:k(()=>!!l.userId)}]),s=t=>{r.push(t)},n=async()=>{console.log("logout"),await me(ge()),r.push("/auth")};return(t,o)=>(M(),N(I($e),{as:"nav",class:"bg-gray-100"},{default:_(({open:c})=>[m("div",He,[m("div",Ue,[m("div",qe,[D(I(G),{class:"relative inline-flex items-center justify-center rounded-md p-2 text-gray-400 hover:bg-gray-700 hover:text-white focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white"},{default:_(()=>[Qe,We,c?(M(),N(I(_e),{key:1,class:"block h-6 w-6","aria-hidden":"true"})):(M(),N(I(Se),{key:0,class:"block h-6 w-6","aria-hidden":"true"}))]),_:2},1024)]),m("div",ze,[Ye,m("div",Je,[m("div",Xe,[(M(!0),O(z,null,Y(u.value,i=>(M(),O("a",{onClick:x=>s(i.path),key:i.name,href:i.href,class:$([i.current?"bg-gray-900 text-white":"text-gray-900 hover:bg-gray-700 hover:text-white","rounded-md px-3 py-2 text-sm font-medium"]),"aria-current":i.current?"page":void 0},K(i.label),11,Ze))),128))])])]),m("div",Ge,[m("button",et,[tt,at,D(I(Ve),{class:"h-6 w-6","aria-hidden":"true"})]),D(I(je),{as:"div",class:"relative ml-3"},{default:_(()=>[m("div",null,[D(I(Le),{class:"relative flex rounded-full bg-white text-sm focus:outline-none focus:ring-2 focus:ring-white focus:ring-offset-2 focus:ring-offset-gray-800"},{default:_(()=>[lt,nt,typeof I(l).userName<"u"?(M(),O("img",{key:0,class:"h-8 w-8 rounded-full",src:`https://api.dicebear.com/8.x/identicon/svg?seed=${I(l).userName}`,alt:""},null,8,st)):pe("",!0)]),_:1})]),D(fe,{"enter-active-class":"transition ease-out duration-100","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:_(()=>[D(I(Ke),{class:"absolute right-0 z-10 mt-2 w-48 origin-top-right rounded-md bg-white py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"},{default:_(()=>[D(I(V),{onClick:n},{default:_(({active:i})=>[m("a",{href:"#",class:$([i?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700"])},"Профиль",2)]),_:1}),D(I(V),null,{default:_(({active:i})=>[m("a",{href:"#",class:$([i?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700"])},"Настройки",2)]),_:1}),D(I(V),{onClick:o[0]||(o[0]=i=>n())},{default:_(({active:i})=>[m("a",{href:"#",class:$([i?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700"])},"Выход",2)]),_:1})]),_:1})]),_:1})]),_:1}),m("div",null,[m("p",rt,K(I(l).userName),1)])])])]),D(I(Oe),{class:"sm:hidden"},{default:_(()=>[m("div",ut,[(M(!0),O(z,null,Y(u.value,i=>(M(),N(I(G),{onClick:x=>s(i.path),key:i.name,as:"a",href:i.href,class:$([i.current?"bg-gray-900 text-white":"text-gray-900 hover:bg-gray-700 hover:text-white","block rounded-md px-3 py-2 text-base font-medium"]),"aria-current":i.current?"page":void 0},{default:_(()=>[ve(K(i.label),1)]),_:2},1032,["onClick","href","class","aria-current"]))),128))])]),_:1})]),_:1}))}};export{dt as _};
