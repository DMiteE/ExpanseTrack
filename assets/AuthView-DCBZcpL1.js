import{r as i,c,f as x,j as e,x as n,y as g,z as f,A as V,l as T,q as p,v as j,B as A,C as y,D as B,E as U}from"./index-D8U3b_RY.js";import{_ as q}from"./logo-Ciy-p8Jt.js";const F={class:"flex min-h-full flex-1 flex-col justify-center px-6 py-12 lg:px-8"},N={class:"sm:mx-auto sm:w-full sm:max-w-sm"},P=e("img",{class:"mx-auto h-10 w-auto",src:q,alt:"Your Company"},null,-1),D={class:"mt-10 text-center text-2xl font-bold leading-9 tracking-tight text-gray-900"},L={class:"mt-10 sm:mx-auto sm:w-full sm:max-w-sm"},I={class:"space-y-6"},M=e("label",{for:"email",class:"block text-sm font-medium leading-6 text-gray-900"},"Email",-1),O={class:"mt-2"},W={key:0},z=e("label",{for:"email",class:"block text-sm font-medium leading-6 text-gray-900"},"Имя",-1),R={class:"mt-2"},S=e("div",{class:"flex items-center justify-between"},[e("label",{for:"password",class:"block text-sm font-medium leading-6 text-gray-900"},"Пароль")],-1),Y={class:"mt-2"},$={class:"flex mt-2 w-full justify-center px-3 py-1.5 text-sm font-semibold leading-6 text-red-600"},G={class:"mt-10 text-center text-sm text-gray-500"},Q={__name:"AuthView",setup(H){const t=i(!0),r=i(""),u=i(""),m=i(""),d=i(!1),v=j(),l=i(""),h=c({get:()=>t.value?"Регистрация":"Вход",set:s=>t.value=s}),b=c({get:()=>t.value?"Регистрация":"Вход",set:s=>t.value=s}),_=c({get:()=>t.value?"Уже есть аккаунт?":"Еще нет аккаунта?",set:s=>t.value=!t.value}),w=c({get:()=>t.value?"Войти":"Зарегистрироваться",set:s=>t.value=!t.value}),k=async()=>{d.value=!0;try{const a=(await A(y(),r.value,u.value)).user;await B(a,{displayName:m.value}),v.push("/finance")}catch(s){s instanceof Error&&(s.message=="Firebase: Error (auth/email-already-in-use)."?l.value="Пользователь с таким email уже существует":s.message=="Firebase: Password should be at least 6 characters (auth/weak-password)."?l.value="Пароль должен содержать не менее 6 символов":l.value=s.message)}finally{d.value=!1}},E=async()=>{d.value=!0;try{await U(y(),r.value,u.value),v.push("/finance")}catch(s){s instanceof Error&&(s.message=="Firebase: Error (auth/invalid-credential)."?l.value="Неверная почта или пароль":l.value=s.message)}finally{d.value=!1}},C=()=>{t.value?(console.log("reg"),k()):(console.log("login"),E())};return(s,a)=>(p(),x("div",F,[e("div",N,[P,e("h2",D,n(h.value),1)]),e("div",L,[e("form",I,[e("div",null,[M,e("div",O,[g(e("input",{"onUpdate:modelValue":a[0]||(a[0]=o=>r.value=o),id:"email",name:"email",type:"email",autocomplete:"email",required:"",class:"block w-full rounded-md border-0 p-2 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,512),[[f,r.value]])])]),t.value?(p(),x("div",W,[z,e("div",R,[g(e("input",{id:"name","onUpdate:modelValue":a[1]||(a[1]=o=>m.value=o),name:"name",type:"name",autocomplete:"name",required:"",class:"block w-full rounded-md border-0 p-2 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,512),[[f,m.value]])])])):V("",!0),e("div",null,[S,e("div",Y,[g(e("input",{id:"password","onUpdate:modelValue":a[2]||(a[2]=o=>u.value=o),name:"password",type:"password",autocomplete:"current-password",required:"",class:"block w-full rounded-md border-0 p-2 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,512),[[f,u.value]])])])]),e("div",null,[e("p",$,n(l.value),1),e("button",{onClick:C,class:"flex mt-2 w-full justify-center rounded-md bg-indigo-600 px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"},n(b.value),1)]),e("p",G,[T(n(_.value)+" "+n(" ")+" ",1),e("a",{onClick:a[3]||(a[3]=o=>t.value=!t.value),class:"font-semibold leading-6 text-indigo-600 hover:text-indigo-500"},n(w.value),1)])])]))}};export{Q as default};
